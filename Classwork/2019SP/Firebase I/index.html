<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>TODO LIST</title>
		<link rel="stylesheet" href="./styles/styles.css">
  </head>
  <body>

    <!-- MOUNT POINT -->
    <app></app>

    <!-- TAGS -->
    <script src="./tags/app.tag" type="riot/tag"></script>

    <!-- LOAD Riot, Firebase -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/riot/3.13.2/riot+compiler.js"></script>
		<script src="https://www.gstatic.com/firebasejs/5.9.1/firebase.js"></script>

    <script>

    // Initialize Firebase
    var config = {
      apiKey: "AIzaSyA9R-fTsiJdlFVfwfou8ZqQAgjftwODG08",
      authDomain: "mstu5013test.firebaseapp.com",
      databaseURL: "https://mstu5013test.firebaseio.com",
      projectId: "mstu5013test",
      storageBucket: "mstu5013test.appspot.com",
      messagingSenderId: "224139921749"
    };
      firebase.initializeApp(config);
      let database = firebase.firestore();
      let todoItems = [];
      
      database.collection('TODOLISTS').get().then(snapshot => {
        snapshot.forEach(doc => {
          let docData = doc.data();
          todoItems.push(docData);
        });
        console.log(todoItems);

        // INITIALIZE RIOT
  			riot.mount('app', {
  	      title: 'I want to behave!',
  	      items: todoItems
  	    });
      })

      // console.log('end of html');
    </script>

  </body>
</html>
